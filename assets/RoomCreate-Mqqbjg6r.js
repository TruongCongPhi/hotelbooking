import{as as L,ar as F,aq as y,a as D,ah as r}from"./index-C5Hw-WH9.js";import{ab as u,B as j,V as I,ac as P,F as l}from"./IdurarOs-DZCQDfqB.js";import"./index-BAO1k-cZ.js";import{s as b,E as w}from"./selectors-Cw4-DQYI.js";import{P as N}from"./index-DjRnzsJr.js";import{e as g}from"./actions-DP6GLw71.js";import{s as x}from"./index-KrFx5yLV.js";import{T as $}from"./index-CjUhIO3m.js";import{C as O}from"./CloseCircleOutlined-R8I_K4PA.js";import{A as _}from"./ArrowLeftOutlined-CGiPZklH.js";import{P as B}from"./PlusOutlined-Dpzt2bhY.js";import{R}from"./RoomForm-C5hU01su.js";import"./dayjs.min-Fgjaem5U.js";import"./ErpApp-luviQjv1.js";import"./index-uDL5EOBN.js";import"./useDebounce-D3qm_pF7.js";import"./index-D8iAfrlz.js";import"./index-BJlfGro0.js";import"./index-BEqAyS9P.js";import"./UploadOutlined-JGErhIDK.js";import"./fade-CFtK4Une.js";import"./DeleteOutlined-Cx6e6mO4.js";import"./progress-Dh0qEg_U.js";function S({form:t}){const e=l(),n=()=>{t.submit()};return r.jsx(j,{onClick:n,type:"primary",icon:r.jsx(B,{}),children:e("Th√™m")})}function M({config:t,CreateForm:e,withUpload:n}){const a=l(),f=L(),p=F();let{entity:m}=t;const{isLoading:E,isSuccess:h,result:T}=y(b),[d]=u.useForm();D.useEffect(()=>(h&&(d.resetFields(),f(g.resetAction({actionType:"create"})),p(`/${m.toLowerCase()}/read/${T.id}`)),()=>{}),[h]);const A=c=>{const i=new FormData;Object.entries(c).forEach(([o,s])=>{o!=="files"&&s!==void 0&&s!=="undefined"&&s!==null&&s!=="null"&&(Array.isArray(s)&&(o==="amenityIds"||o==="serviceIds")?s.forEach(C=>{i.append(o,C)}):i.append(o,s))}),c.files&&Array.isArray(c.files)&&c.files.forEach(o=>{i.append("files",o.originFileObj||o)}),console.log("üöÄ FormData g·ª≠i ƒëi:",Array.from(i.entries())),f(g.createAndUpload({entity:m,jsonData:i}))};return r.jsxs(r.Fragment,{children:[r.jsx(N,{onBack:()=>{p(`/${m.toLowerCase()}`)},backIcon:r.jsx(_,{}),title:a("Th√™m m·ªõi"),ghost:!1,tags:r.jsx($,{children:a("Ph√≤ng")}),extra:[r.jsx(j,{onClick:()=>p(`/${m.toLowerCase()}`),icon:r.jsx(O,{}),children:a("ƒê√≥ng")},`${x.generate()}`),r.jsx(S,{form:d},`${x.generate()}`)],style:{padding:"20px 0px"}}),r.jsx(I,{dashed:!0}),r.jsx(P,{isLoading:E,children:r.jsx(u,{form:d,layout:"vertical",onFinish:A,children:r.jsx(e,{})})})]})}function U({config:t,withUpload:e=!0}){return r.jsx(w,{children:r.jsx(M,{config:t,withUpload:e,CreateForm:R})})}function cr(){const t=l(),e="room",n={PANEL_TITLE:t("Ph√≤ng"),DATATABLE_TITLE:t("Danh s√°ch ph√≤ng"),ADD_NEW_ENTITY:t("Th√™m m·ªõi ph√≤ng"),ENTITY_NAME:t("room")},a={entity:e,...n};return r.jsx(U,{config:a})}export{cr as default};
