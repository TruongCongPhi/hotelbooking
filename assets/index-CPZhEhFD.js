import{a as l,q as w,i as je,R as O,P as Te,bA as J,ab as we,z,n as T,M as Ne,a8 as Se,J as Ie,ac as Y,m as ke,ad as Fe,l as Me}from"./index-DoO1pKsL.js";import{B as H,aF as K,a6 as D,C as U,d as ee,n as Be,N as Re,w as Le,z as ze,k as L,aG as Ae,au as _e,aH as He,aI as De,aJ as Ve,aK as We,aL as qe}from"./IdurarOs-BcmAwRXL.js";import{u as te,D as Ge,p as Qe,a as Xe,P as Ze}from"./index-Cz6YRinq.js";import{m as Je,n as Ye,w as Ke}from"./ErpApp-B4fPxVLc.js";function Ue(){const[e,n]=l.useState([]),r=l.useCallback(t=>(n(o=>[].concat(w(o),[t])),()=>{n(o=>o.filter(a=>a!==t))}),[]);return[e,r]}function W(e){return!!(e&&e.then)}const ne=e=>{const{type:n,children:r,prefixCls:t,buttonProps:o,close:a,autoFocus:g,emitEvent:f,isSilent:c,quitOnNullishReturnValue:u,actionFn:s}=e,i=l.useRef(!1),b=l.useRef(null),[m,y]=je(!1),C=function(){a==null||a.apply(void 0,arguments)};l.useEffect(()=>{let d=null;return g&&(d=setTimeout(()=>{var p;(p=b.current)===null||p===void 0||p.focus()})),()=>{d&&clearTimeout(d)}},[]);const x=d=>{W(d)&&(y(!0),d.then(function(){y(!1,!0),C.apply(void 0,arguments),i.current=!1},p=>{if(y(!1,!0),i.current=!1,!(c!=null&&c()))return Promise.reject(p)}))},v=d=>{if(i.current)return;if(i.current=!0,!s){C();return}let p;if(f){if(p=s(d),u&&!W(p)){i.current=!1,C(d);return}}else if(s.length)p=s(a),i.current=!1;else if(p=s(),!p){C();return}x(p)};return l.createElement(H,Object.assign({},K(n),{onClick:v,loading:m,prefixCls:t},o,{ref:b}),r)},M=O.createContext({}),{Provider:oe}=M,q=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:r,isSilent:t,mergedOkCancel:o,rootPrefixCls:a,close:g,onCancel:f,onConfirm:c}=l.useContext(M);return o?O.createElement(ne,{isSilent:t,actionFn:f,close:function(){g==null||g.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${a}-btn`},r):null},G=()=>{const{autoFocusButton:e,close:n,isSilent:r,okButtonProps:t,rootPrefixCls:o,okTextLocale:a,okType:g,onConfirm:f,onOk:c}=l.useContext(M);return O.createElement(ne,{isSilent:r,type:g||"primary",actionFn:c,close:function(){n==null||n.apply(void 0,arguments),f==null||f(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},a)},et=()=>Te()&&window.document.documentElement,Q=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:r}=l.useContext(M);return O.createElement(H,Object.assign({onClick:r},e),n)},X=()=>{const{confirmLoading:e,okButtonProps:n,okType:r,okTextLocale:t,onOk:o}=l.useContext(M);return O.createElement(H,Object.assign({},K(r),{loading:e,onClick:o},n),t)};function le(e,n){return O.createElement("span",{className:`${e}-close-x`},n||O.createElement(U,{className:`${e}-close-icon`}))}const re=e=>{const{okText:n,okType:r="primary",cancelText:t,confirmLoading:o,onOk:a,onCancel:g,okButtonProps:f,cancelButtonProps:c,footer:u}=e,[s]=D("Modal",J()),i=n||(s==null?void 0:s.okText),b=t||(s==null?void 0:s.cancelText),m={confirmLoading:o,okButtonProps:f,cancelButtonProps:c,okTextLocale:i,cancelTextLocale:b,okType:r,onOk:a,onCancel:g},y=O.useMemo(()=>m,w(Object.values(m)));let C;return typeof u=="function"||typeof u>"u"?(C=O.createElement(O.Fragment,null,O.createElement(Q,null),O.createElement(X,null)),typeof u=="function"&&(C=u(C,{OkBtn:X,CancelBtn:Q})),C=O.createElement(oe,{value:y},C)):C=u,O.createElement(we,{disabled:!1},C)};var tt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let _;const nt=e=>{_={x:e.pageX,y:e.pageY},setTimeout(()=>{_=null},100)};et()&&document.documentElement.addEventListener("click",nt,!0);const se=e=>{var n;const{getPopupContainer:r,getPrefixCls:t,direction:o,modal:a}=l.useContext(z),g=F=>{const{onCancel:N}=e;N==null||N(F)},f=F=>{const{onOk:N}=e;N==null||N(F)},{prefixCls:c,className:u,rootClassName:s,open:i,wrapClassName:b,centered:m,getContainer:y,closeIcon:C,closable:x,focusTriggerAfterClose:v=!0,style:d,visible:p,width:P=520,footer:j,classNames:h,styles:A}=e,I=tt(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),E=t("modal",c),k=t(),R=ee(E),[be,V,pe]=te(E,R),xe=T(b,{[`${E}-centered`]:!!m,[`${E}-wrap-rtl`]:o==="rtl"}),ye=j!==null&&l.createElement(re,Object.assign({},e,{onOk:f,onCancel:g})),[Oe,Pe]=Je(x,typeof C<"u"?C:a==null?void 0:a.closeIcon,F=>le(E,F),l.createElement(U,{className:`${E}-close-icon`}),!0),he=Ye(`.${E}-content`),[Ee,$e]=Be("Modal",I.zIndex);return be(l.createElement(Re,null,l.createElement(Le,{status:!0,override:!0},l.createElement(ze.Provider,{value:$e},l.createElement(Ge,Object.assign({width:P},I,{zIndex:Ee,getContainer:y===void 0?r:y,prefixCls:E,rootClassName:T(V,s,pe,R),footer:ye,visible:i??p,mousePosition:(n=I.mousePosition)!==null&&n!==void 0?n:_,onClose:g,closable:Oe,closeIcon:Pe,focusTriggerAfterClose:v,transitionName:L(k,"zoom",e.transitionName),maskTransitionName:L(k,"fade",e.maskTransitionName),className:T(V,u,a==null?void 0:a.className),style:Object.assign(Object.assign({},a==null?void 0:a.style),d),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),h),{wrapper:T(xe,h==null?void 0:h.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),A),panelRef:he}))))))},ot=e=>{const{componentCls:n,titleFontSize:r,titleLineHeight:t,modalConfirmIconSize:o,fontSize:a,lineHeight:g,modalTitleHeight:f,fontHeight:c,confirmBodyPadding:u}=e,s=`${n}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},Se()),[`&${n} ${n}-body`]:{padding:u},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(o).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Ie(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:r,lineHeight:t},[`${s}-content`]:{color:e.colorText,fontSize:a,lineHeight:g},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},lt=Ne(["Modal","confirm"],e=>{const n=Xe(e);return[ot(n)]},Qe,{order:-1e3});var rt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};function ae(e){const{prefixCls:n,icon:r,okText:t,cancelText:o,confirmPrefixCls:a,type:g,okCancel:f,footer:c,locale:u}=e,s=rt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let i=r;if(!r&&r!==null)switch(g){case"info":i=l.createElement(De,null);break;case"success":i=l.createElement(He,null);break;case"error":i=l.createElement(_e,null);break;default:i=l.createElement(Ae,null)}const b=f??g==="confirm",m=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=D("Modal"),C=u||y,x=t||(b?C==null?void 0:C.okText:C==null?void 0:C.justOkText),v=o||(C==null?void 0:C.cancelText),d=Object.assign({autoFocusButton:m,cancelTextLocale:v,okTextLocale:x,mergedOkCancel:b},s),p=l.useMemo(()=>d,w(Object.values(d))),P=l.createElement(l.Fragment,null,l.createElement(q,null),l.createElement(G,null)),j=e.title!==void 0&&e.title!==null,h=`${a}-body`;return l.createElement("div",{className:`${a}-body-wrapper`},l.createElement("div",{className:T(h,{[`${h}-has-title`]:j})},i,l.createElement("div",{className:`${a}-paragraph`},j&&l.createElement("span",{className:`${a}-title`},e.title),l.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?l.createElement(oe,{value:p},l.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(P,{OkBtn:G,CancelBtn:q}):P)):c,l.createElement(lt,{prefixCls:n}))}const st=e=>{const{close:n,zIndex:r,afterClose:t,open:o,keyboard:a,centered:g,getContainer:f,maskStyle:c,direction:u,prefixCls:s,wrapClassName:i,rootPrefixCls:b,bodyStyle:m,closable:y=!1,closeIcon:C,modalRender:x,focusTriggerAfterClose:v,onConfirm:d,styles:p}=e,P=`${s}-confirm`,j=e.width||416,h=e.style||{},A=e.mask===void 0?!0:e.mask,I=e.maskClosable===void 0?!1:e.maskClosable,E=T(P,`${P}-${e.type}`,{[`${P}-rtl`]:u==="rtl"},e.className),[,k]=ke(),R=l.useMemo(()=>r!==void 0?r:k.zIndexPopupBase+Ve,[r,k]);return l.createElement(se,{prefixCls:s,className:E,wrapClassName:T({[`${P}-centered`]:!!e.centered},i),onCancel:()=>{n==null||n({triggerCancel:!0}),d==null||d(!1)},open:o,title:"",footer:null,transitionName:L(b||"","zoom",e.transitionName),maskTransitionName:L(b||"","fade",e.maskTransitionName),mask:A,maskClosable:I,style:h,styles:Object.assign({body:m,mask:c},p),width:j,zIndex:R,afterClose:t,keyboard:a,centered:g,getContainer:f,closable:y,closeIcon:C,modalRender:x,focusTriggerAfterClose:v},l.createElement(ae,Object.assign({},e,{confirmPrefixCls:P})))},ce=e=>{const{rootPrefixCls:n,iconPrefixCls:r,direction:t,theme:o}=e;return l.createElement(Y,{prefixCls:n,iconPrefixCls:r,direction:t,theme:o},l.createElement(st,Object.assign({},e)))},S=[];let ie="";function ue(){return ie}const at=e=>{var n,r;const{prefixCls:t,getContainer:o,direction:a}=e,g=J(),f=l.useContext(z),c=ue()||f.getPrefixCls(),u=t||`${c}-modal`;let s=o;return s===!1&&(s=void 0),O.createElement(ce,Object.assign({},e,{rootPrefixCls:c,prefixCls:u,iconPrefixCls:f.iconPrefixCls,theme:f.theme,direction:a??f.direction,locale:(r=(n=f.locale)===null||n===void 0?void 0:n.Modal)!==null&&r!==void 0?r:g,getContainer:s}))};function B(e){const n=Fe(),r=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:f,open:!0}),o;function a(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];const b=s.some(m=>m&&m.triggerCancel);e.onCancel&&b&&e.onCancel.apply(e,[()=>{}].concat(w(s.slice(1))));for(let m=0;m<S.length;m++)if(S[m]===f){S.splice(m,1);break}We(r)}function g(u){clearTimeout(o),o=setTimeout(()=>{const s=n.getPrefixCls(void 0,ue()),i=n.getIconPrefixCls(),b=n.getTheme(),m=O.createElement(at,Object.assign({},u));qe(O.createElement(Y,{prefixCls:s,iconPrefixCls:i,theme:b},n.holderRender?n.holderRender(m):m),r)})}function f(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,s)}}),t.visible&&delete t.visible,g(t)}function c(u){typeof u=="function"?t=u(t):t=Object.assign(Object.assign({},t),u),g(t)}return g(t),S.push(f),{destroy:f,update:c}}function fe(e){return Object.assign(Object.assign({},e),{type:"warning"})}function de(e){return Object.assign(Object.assign({},e),{type:"info"})}function me(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ce(e){return Object.assign(Object.assign({},e),{type:"error"})}function ge(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function ct(e){let{rootPrefixCls:n}=e;ie=n}var it=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const ut=(e,n)=>{var r,{afterClose:t,config:o}=e,a=it(e,["afterClose","config"]);const[g,f]=l.useState(!0),[c,u]=l.useState(o),{direction:s,getPrefixCls:i}=l.useContext(z),b=i("modal"),m=i(),y=()=>{var d;t(),(d=c.afterClose)===null||d===void 0||d.call(c)},C=function(){f(!1);for(var d=arguments.length,p=new Array(d),P=0;P<d;P++)p[P]=arguments[P];const j=p.some(h=>h&&h.triggerCancel);c.onCancel&&j&&c.onCancel.apply(c,[()=>{}].concat(w(p.slice(1))))};l.useImperativeHandle(n,()=>({destroy:C,update:d=>{u(p=>Object.assign(Object.assign({},p),d))}}));const x=(r=c.okCancel)!==null&&r!==void 0?r:c.type==="confirm",[v]=D("Modal",Me.Modal);return l.createElement(ce,Object.assign({prefixCls:b,rootPrefixCls:m},c,{close:C,open:g,afterClose:y,okText:c.okText||(x?v==null?void 0:v.okText:v==null?void 0:v.justOkText),direction:c.direction||s,cancelText:c.cancelText||(v==null?void 0:v.cancelText)},a))},ft=l.forwardRef(ut);let Z=0;const dt=l.memo(l.forwardRef((e,n)=>{const[r,t]=Ue();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,r)}));function mt(){const e=l.useRef(null),[n,r]=l.useState([]);l.useEffect(()=>{n.length&&(w(n).forEach(g=>{g()}),r([]))},[n]);const t=l.useCallback(a=>function(f){var c;Z+=1;const u=l.createRef();let s;const i=new Promise(x=>{s=x});let b=!1,m;const y=l.createElement(ft,{key:`modal-${Z}`,config:a(f),ref:u,afterClose:()=>{m==null||m()},isSilent:()=>b,onConfirm:x=>{s(x)}});return m=(c=e.current)===null||c===void 0?void 0:c.patchElement(y),m&&S.push(m),{destroy:()=>{function x(){var v;(v=u.current)===null||v===void 0||v.destroy()}u.current?x():r(v=>[].concat(w(v),[x]))},update:x=>{function v(){var d;(d=u.current)===null||d===void 0||d.update(x)}u.current?v():r(d=>[].concat(w(d),[v]))},then:x=>(b=!0,i.then(x))}},[]);return[l.useMemo(()=>({info:t(de),success:t(me),error:t(Ce),warning:t(fe),confirm:t(ge)}),[]),l.createElement(dt,{key:"modal-holder",ref:e})]}var Ct=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const gt=e=>{const{prefixCls:n,className:r,closeIcon:t,closable:o,type:a,title:g,children:f,footer:c}=e,u=Ct(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:s}=l.useContext(z),i=s(),b=n||s("modal"),m=ee(i),[y,C,x]=te(b,m),v=`${b}-confirm`;let d={};return a?d={closable:o??!1,title:"",footer:"",children:l.createElement(ae,Object.assign({},e,{prefixCls:b,confirmPrefixCls:v,rootPrefixCls:i,content:f}))}:d={closable:o??!0,title:g,footer:c!==null&&l.createElement(re,Object.assign({},e)),children:f},y(l.createElement(Ze,Object.assign({prefixCls:b,className:T(C,`${b}-pure-panel`,a&&v,a&&`${v}-${a}`,r,x,m)},u,{closeIcon:le(b,t),closable:o},d)))},vt=Ke(gt);function ve(e){return B(fe(e))}const $=se;$.useModal=mt;$.info=function(n){return B(de(n))};$.success=function(n){return B(me(n))};$.error=function(n){return B(Ce(n))};$.warning=ve;$.warn=ve;$.confirm=function(n){return B(ge(n))};$.destroyAll=function(){for(;S.length;){const n=S.pop();n&&n()}};$.config=ct;$._InternalPanelDoNotUseOrYouWillBeFired=vt;export{$ as M};
