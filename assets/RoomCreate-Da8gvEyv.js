import{as as L,ar as F,aq as y,a as D,ah as r}from"./index-CIj5hYV2.js";import{ab as u,B as j,V as I,ac as P,F as l}from"./IdurarOs-WAmMcj9g.js";import"./index-BbNeih3m.js";import{s as b,E as w}from"./selectors-BejxoUSi.js";import{P as N}from"./index-qRxrIp-c.js";import{e as g}from"./actions-CYbjwKLg.js";import{s as x}from"./index-KrFx5yLV.js";import{T as $}from"./index-DzlEGkBV.js";import{C as O}from"./CloseCircleOutlined-BOwqTg4r.js";import{A as _}from"./ArrowLeftOutlined-ByKsFNHI.js";import{P as B}from"./PlusOutlined-CWCq2ylO.js";import{R}from"./RoomForm-CMbAgKZN.js";import"./dayjs.min-Dklab4Fo.js";import"./ErpApp-C-2FDLT4.js";import"./index-CxFA-Jaf.js";import"./useDebounce-Bx6eKVsu.js";import"./index-DwiXKtux.js";import"./index-C2-6UxCK.js";import"./index-CsCQJsro.js";import"./UploadOutlined-B0vW9QeW.js";import"./fade-CRPdljLo.js";import"./DeleteOutlined--uFv7klz.js";import"./progress-5w2SBPjO.js";function S({form:t}){const e=l(),n=()=>{t.submit()};return r.jsx(j,{onClick:n,type:"primary",icon:r.jsx(B,{}),children:e("Th√™m")})}function M({config:t,CreateForm:e,withUpload:n}){const a=l(),f=L(),p=F();let{entity:m}=t;const{isLoading:E,isSuccess:h,result:T}=y(b),[d]=u.useForm();D.useEffect(()=>(h&&(d.resetFields(),f(g.resetAction({actionType:"create"})),p(`/${m.toLowerCase()}/read/${T.id}`)),()=>{}),[h]);const A=c=>{const i=new FormData;Object.entries(c).forEach(([o,s])=>{o!=="files"&&s!==void 0&&s!=="undefined"&&s!==null&&s!=="null"&&(Array.isArray(s)&&(o==="amenityIds"||o==="serviceIds")?s.forEach(C=>{i.append(o,C)}):i.append(o,s))}),c.files&&Array.isArray(c.files)&&c.files.forEach(o=>{i.append("files",o.originFileObj||o)}),console.log("üöÄ FormData g·ª≠i ƒëi:",Array.from(i.entries())),f(g.createAndUpload({entity:m,jsonData:i}))};return r.jsxs(r.Fragment,{children:[r.jsx(N,{onBack:()=>{p(`/${m.toLowerCase()}`)},backIcon:r.jsx(_,{}),title:a("Th√™m m·ªõi"),ghost:!1,tags:r.jsx($,{children:a("Ph√≤ng")}),extra:[r.jsx(j,{onClick:()=>p(`/${m.toLowerCase()}`),icon:r.jsx(O,{}),children:a("ƒê√≥ng")},`${x.generate()}`),r.jsx(S,{form:d},`${x.generate()}`)],style:{padding:"20px 0px"}}),r.jsx(I,{dashed:!0}),r.jsx(P,{isLoading:E,children:r.jsx(u,{form:d,layout:"vertical",onFinish:A,children:r.jsx(e,{})})})]})}function U({config:t,withUpload:e=!0}){return r.jsx(w,{children:r.jsx(M,{config:t,withUpload:e,CreateForm:R})})}function cr(){const t=l(),e="room",n={PANEL_TITLE:t("Ph√≤ng"),DATATABLE_TITLE:t("Danh s√°ch ph√≤ng"),ADD_NEW_ENTITY:t("Th√™m m·ªõi ph√≤ng"),ENTITY_NAME:t("room")},a={entity:e,...n};return r.jsx(U,{config:a})}export{cr as default};
