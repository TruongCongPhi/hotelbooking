import{R as v,a as s,z as R,n as F,B as Oe,D as Te,E as Me,J as g,a2 as Be,q as oe,ap as we,as as de,ar as Ae,aq as me,ah as n,aR as De,ay as He}from"./index-C5Hw-WH9.js";import{Q as B,c as Ge,r as re,W as k,B as se,J as We,V as M,F as ge,ae as _e}from"./IdurarOs-DZCQDfqB.js";import"./index-BAO1k-cZ.js";import{b as Ke,a as Fe,E as le}from"./selectors-Cw4-DQYI.js";import{P as Ve}from"./index-DjRnzsJr.js";import{e as pe}from"./actions-DP6GLw71.js";import{s as ce}from"./index-KrFx5yLV.js";import{u as Xe}from"./useMoney-DX_U51m_.js";import{S as K}from"./index-Bz3SHyos.js";import{D as y}from"./index-BFsqs0xt.js";import{e as Ye,P as qe}from"./Pagination-okfREigz.js";import{D as Je}from"./index-D8iAfrlz.js";import{u as Qe}from"./ErpApp-luviQjv1.js";import{C as Ue,I as Ze}from"./index-CnhMWnoU.js";import{C as ke}from"./CloseCircleOutlined-R8I_K4PA.js";import"./dayjs.min-Fgjaem5U.js";import"./Skeleton-YetTH94u.js";import"./PlusOutlined-Dpzt2bhY.js";import"./addEventListener-CiDZAQAD.js";import"./index-5Xt7vnN1.js";import"./fade-CFtK4Une.js";const ee=v.createContext({});ee.Consumer;var he=function(t,e){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(a[o[r]]=t[o[r]]);return a};const Re=t=>{var{prefixCls:e,className:a,avatar:o,title:r,description:l}=t,p=he(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:f}=s.useContext(R),i=f("list",e),S=F(`${i}-item-meta`,a),b=v.createElement("div",{className:`${i}-item-meta-content`},r&&v.createElement("h4",{className:`${i}-item-meta-title`},r),l&&v.createElement("div",{className:`${i}-item-meta-description`},l));return v.createElement("div",Object.assign({},p,{className:S}),o&&v.createElement("div",{className:`${i}-item-meta-avatar`},o),(r||l)&&b)},et=(t,e)=>{var{prefixCls:a,children:o,actions:r,extra:l,className:p,colStyle:f}=t,i=he(t,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:S,itemLayout:b}=s.useContext(ee),{getPrefixCls:P}=s.useContext(R),c=()=>{let E;return s.Children.forEach(o,N=>{typeof N=="string"&&(E=!0)}),E&&s.Children.count(o)>1},C=()=>b==="vertical"?!!l:!c(),m=P("list",a),h=r&&r.length>0&&v.createElement("ul",{className:`${m}-item-action`,key:"actions"},r.map((E,N)=>v.createElement("li",{key:`${m}-item-action-${N}`},E,N!==r.length-1&&v.createElement("em",{className:`${m}-item-action-split`})))),j=S?"div":"li",z=v.createElement(j,Object.assign({},i,S?{}:{ref:e},{className:F(`${m}-item`,{[`${m}-item-no-flex`]:!C()},p)}),b==="vertical"&&l?[v.createElement("div",{className:`${m}-item-main`,key:"content"},o,h),v.createElement("div",{className:`${m}-item-extra`,key:"extra"},l)]:[o,h,Oe(l,{key:"extra"})]);return S?v.createElement(B,{ref:e,flex:1,style:f},z):z},$e=s.forwardRef(et);$e.Meta=Re;const tt=t=>{const{listBorderedCls:e,componentCls:a,paddingLG:o,margin:r,itemPaddingSM:l,itemPaddingLG:p,marginLG:f,borderRadiusLG:i}=t;return{[`${e}`]:{border:`${g(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:i,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:o},[`${a}-pagination`]:{margin:`${g(r)} ${g(f)}`}},[`${e}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:l}},[`${e}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:p}}}},it=t=>{const{componentCls:e,screenSM:a,screenMD:o,marginLG:r,marginSM:l,margin:p}=t;return{[`@media screen and (max-width:${o}px)`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:r}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:r}}}},[`@media screen and (max-width: ${a}px)`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:l}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${g(p)}`}}}}}},nt=t=>{const{componentCls:e,antCls:a,controlHeight:o,minHeight:r,paddingSM:l,marginLG:p,padding:f,itemPadding:i,colorPrimary:S,itemPaddingSM:b,itemPaddingLG:P,paddingXS:c,margin:C,colorText:m,colorTextDescription:h,motionDurationSlow:j,lineWidth:z,headerBg:E,footerBg:N,emptyTextPadding:w,metaMarginBottom:V,avatarMarginRight:A,titleMarginBottom:X,descriptionFontSize:Y}=t,D={};return["start","center","end"].forEach(H=>{D[`&-align-${H}`]={textAlign:H}}),{[`${e}`]:Object.assign(Object.assign({},Be(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:E},[`${e}-footer`]:{background:N},[`${e}-header, ${e}-footer`]:{paddingBlock:l},[`${e}-pagination`]:Object.assign(Object.assign({marginBlockStart:p},D),{[`${a}-pagination-options`]:{textAlign:"start"}}),[`${e}-spin`]:{minHeight:r,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:i,color:m,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:A},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:m},[`${e}-item-meta-title`]:{margin:`0 0 ${g(t.marginXXS)} 0`,color:m,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:m,transition:`all ${j}`,"&:hover":{color:S}}},[`${e}-item-meta-description`]:{color:h,fontSize:Y,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${g(c)}`,color:h,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:z,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${g(f)} 0`,color:h,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:w,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${a}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:C,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:p},[`${e}-item-meta`]:{marginBlockEnd:V,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:X,color:m,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:f,marginInlineStart:"auto","> li":{padding:`0 ${g(f)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:o},[`${e}-split${e}-something-after-last-item ${a}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${g(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:P},[`${e}-sm ${e}-item`]:{padding:b},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},at=t=>({contentWidth:220,itemPadding:`${g(t.paddingContentVertical)} 0`,itemPaddingSM:`${g(t.paddingContentVerticalSM)} ${g(t.paddingContentHorizontal)}`,itemPaddingLG:`${g(t.paddingContentVerticalLG)} ${g(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),ot=Te("List",t=>{const e=Me(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[nt(e),tt(e),it(e)]},at);var rt=function(t,e){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(a[o[r]]=t[o[r]]);return a};function L(t){var e,{pagination:a=!1,prefixCls:o,bordered:r=!1,split:l=!0,className:p,rootClassName:f,style:i,children:S,itemLayout:b,loadMore:P,grid:c,dataSource:C=[],size:m,header:h,footer:j,loading:z=!1,rowKey:E,renderItem:N,locale:w}=t,V=rt(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const A=a&&typeof a=="object"?a:{},[X,Y]=s.useState(A.defaultCurrent||1),[D,H]=s.useState(A.defaultPageSize||10),{getPrefixCls:fe,renderEmpty:q,direction:xe,list:O}=s.useContext(R),ue={current:1,total:0},te=d=>(x,I)=>{var Z;Y(x),H(I),a&&a[d]&&((Z=a==null?void 0:a[d])===null||Z===void 0||Z.call(a,x,I))},ye=te("onChange"),Se=te("onShowSizeChange"),be=(d,x)=>{if(!N)return null;let I;return typeof E=="function"?I=E(d):E?I=d[E]:I=d.key,I||(I=`list-item-${x}`),s.createElement(s.Fragment,{key:I},N(d,x))},ve=()=>!!(P||a||j),$=fe("list",o),[Ce,je,Ee]=ot($);let T=z;typeof T=="boolean"&&(T={spinning:T});const J=T&&T.spinning,Ie=Ge(m);let G="";switch(Ie){case"large":G="lg";break;case"small":G="sm";break}const Pe=F($,{[`${$}-vertical`]:b==="vertical",[`${$}-${G}`]:G,[`${$}-split`]:l,[`${$}-bordered`]:r,[`${$}-loading`]:J,[`${$}-grid`]:!!c,[`${$}-something-after-last-item`]:ve(),[`${$}-rtl`]:xe==="rtl"},O==null?void 0:O.className,p,f,je,Ee),u=Ye(ue,{total:C.length,current:X,pageSize:D},a||{}),ie=Math.ceil(u.total/u.pageSize);u.current>ie&&(u.current=ie);const ne=a?s.createElement("div",{className:F(`${$}-pagination`,`${$}-pagination-align-${(e=u==null?void 0:u.align)!==null&&e!==void 0?e:"end"}`)},s.createElement(qe,Object.assign({},u,{onChange:ye,onShowSizeChange:Se}))):null;let Q=oe(C);a&&C.length>(u.current-1)*u.pageSize&&(Q=oe(C).splice((u.current-1)*u.pageSize,u.pageSize));const Ne=Object.keys(c||{}).some(d=>["xs","sm","md","lg","xl","xxl"].includes(d)),ae=Qe(Ne),W=s.useMemo(()=>{for(let d=0;d<re.length;d+=1){const x=re[d];if(ae[x])return x}},[ae]),Le=s.useMemo(()=>{if(!c)return;const d=W&&c[W]?c[W]:c.column;if(d)return{width:`${100/d}%`,maxWidth:`${100/d}%`}},[c==null?void 0:c.column,W]);let U=J&&s.createElement("div",{style:{minHeight:53}});if(Q.length>0){const d=Q.map((x,I)=>be(x,I));U=c?s.createElement(k,{gutter:c.gutter},s.Children.map(d,x=>s.createElement("div",{key:x==null?void 0:x.key,style:Le},x))):s.createElement("ul",{className:`${$}-items`},d)}else!S&&!J&&(U=s.createElement("div",{className:`${$}-empty-text`},w&&w.emptyText||(q==null?void 0:q("List"))||s.createElement(Je,{componentName:"List"})));const _=u.position||"bottom",ze=s.useMemo(()=>({grid:c,itemLayout:b}),[JSON.stringify(c),b]);return Ce(s.createElement(ee.Provider,{value:ze},s.createElement("div",Object.assign({style:Object.assign(Object.assign({},O==null?void 0:O.style),i),className:Pe},V),(_==="top"||_==="both")&&ne,h&&s.createElement("div",{className:`${$}-header`},h),s.createElement(we,Object.assign({},T),U,S),j&&s.createElement("div",{className:`${$}-footer`},j),P||(_==="bottom"||_==="both")&&ne)))}L.Item=$e;function st({config:t,selectedItem:e}){var c,C,m;const a=ge(),{entity:o,ENTITY_NAME:r}=t,l=de(),p=Ae(),{formatCurrency:f}=Xe(),{result:i}=me(Ke);console.log(i);const S={id:"",status:"Unavailable",roomTypeId:"",roomTypeName:"",roomNumber:"",numberOfPeople:0,originalPrice:null,discountedPrice:null,price:null,priceDescription:"",roomDescription:"",cancellationPolicyDescription:"",isCancelable:!1,isRefundable:!1,amenities:[],services:[],roomImages:[]},[b,P]=s.useState(e??S);return s.useEffect(()=>(i&&P(i),()=>{P(S)}),[i]),n.jsxs(n.Fragment,{children:[n.jsx(Ve,{onBack:()=>{p(`/${o.toLowerCase()}`)},title:`${r}`,ghost:!1,extra:[n.jsx(se,{onClick:()=>{p(`/${o.toLowerCase()}`)},icon:n.jsx(ke,{}),children:a("Đóng")},`${ce.generate()}`),n.jsx(se,{onClick:()=>{l(pe.currentAction({actionType:"update",data:b})),p(`/${o.toLowerCase()}/update/${b.id}`)},type:"primary",icon:n.jsx(We,{}),children:a("Chỉnh sửa")},`${ce.generate()}`)],style:{padding:"20px 0px"}}),n.jsx(M,{dashed:!0}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsxs(k,{gutter:[16,16],children:[n.jsx(B,{span:6,children:n.jsx(K,{title:"Loại phòng",value:(i==null?void 0:i.roomTypeName)||"N/A"})}),n.jsx(B,{span:6,children:n.jsx(K,{title:"Số phòng",value:(i==null?void 0:i.roomNumber)||"N/A"})}),n.jsx(B,{span:6,children:n.jsx(K,{title:"Số người",value:(i==null?void 0:i.numberOfPeople)||"N/A"})}),n.jsx(B,{span:6,children:n.jsx(K,{title:"Trạng thái",value:(i==null?void 0:i.status)==="Available"?"Hoạt động":"Khóa"})})]}),n.jsx(M,{}),n.jsxs(y,{title:"Thông tin giá",bordered:!0,children:[n.jsx(y.Item,{label:"Giá gốc",children:i!=null&&i.originalPrice?f(i.originalPrice):"N/A"}),n.jsx(y.Item,{label:"Giá đã giảm",children:i!=null&&i.discountedPrice?f(i.discountedPrice):"Không có"}),n.jsx(y.Item,{label:"Giá hiện tại",children:i!=null&&i.price?f(i.price):"N/A"})]}),n.jsx(M,{}),n.jsxs(y,{title:"Thông tin phòng",bordered:!0,children:[n.jsx(y.Item,{label:"Tiện ích",span:3,children:(c=i==null?void 0:i.amenities)!=null&&c.length?n.jsx(L,{itemLayout:"horizontal",dataSource:i==null?void 0:i.amenities,renderItem:(h,j)=>n.jsx(L.Item,{children:n.jsx(L.Item.Meta,{avatar:n.jsx("span",{dangerouslySetInnerHTML:{__html:h.iconSvg},style:{display:"inline-block",verticalAlign:"middle",width:"24px",height:"24px"}}),title:h.amenityName})})}):"Không có tiện ích"}),n.jsx(y.Item,{label:"Dịch vụ",span:3,children:(C=i==null?void 0:i.services)!=null&&C.length?n.jsx(L,{itemLayout:"horizontal",dataSource:i==null?void 0:i.services,renderItem:(h,j)=>n.jsx(L.Item,{children:n.jsx(L.Item.Meta,{title:h.serviceName})})}):"Không có tiện ích"}),n.jsx(y.Item,{label:"Mô tả",children:(i==null?void 0:i.roomDescription)||"Không có thông tin"})]}),n.jsx(M,{}),n.jsxs(y,{title:"Chính sách phòng",bordered:!0,children:[n.jsx(y.Item,{label:"Được hủy phòng",children:i!=null&&i.isCancelable?"Có":"Không"}),n.jsx(y.Item,{label:"Mô tả chính sách hủy",span:2,children:(i==null?void 0:i.cancellationPolicyDescription)||"Không có thông tin"}),n.jsx(y.Item,{label:"Được hoàn tiền",children:i!=null&&i.isCancelable?"Có":"Không"}),n.jsx(y.Item,{label:"Mô tả chính sách hoàn tiền",span:2,children:(i==null?void 0:i.cancellationPolicyDescription)||"Không có thông tin"})]}),n.jsx(M,{}),n.jsx(y,{title:"Ảnh"}),n.jsx(k,{gutter:[16,16],children:(m=i==null?void 0:i.roomImages)==null?void 0:m.map((h,j)=>n.jsx(B,{span:6,children:n.jsx(Ue,{cover:n.jsx(Ze,{src:h.filePath})})},j))}),n.jsx(M,{})]})]})}function lt({config:t}){const e=de(),{id:a}=De();s.useLayoutEffect(()=>{e(pe.read({entity:t.entity,id:a}))},[a]);const{result:o,isSuccess:r,isLoading:l=!0}=me(Fe);return l?n.jsx(le,{children:n.jsx(He,{})}):n.jsx(le,{children:r?n.jsx(st,{config:t,selectedItem:o}):n.jsx(_e,{entity:t.entity})})}function zt(){const t=ge(),e="room",a={PANEL_TITLE:t("Phòng"),DATATABLE_TITLE:t("Danh sách phòng"),ADD_NEW_ENTITY:t("Thêm mới phòng"),ENTITY_NAME:t("room")},o={entity:e,...a};return n.jsx(lt,{config:o})}export{zt as default};
